check process Postgres with pidfile /var/lib/pgsql/12/data/postmaster.pid
  start program = "/usr/bin/systemctl start postgresql-12"
  stop program = "/usr/bin/systemctl stop postgresql-12"
# Monit v5.26.1 patch switches authentication to use `PGUSER` (`postgres` by default), PGDATABASE, PGPASSWORD
# Monit v5.26.0: Postgres would log `FATAL:  role "root" does not exist` every cycle (30 seconds)
  # Random outages occur from time to time: just unmonitor and leave it for manual troubleshooting
  if failed unixsocket /var/run/postgresql/.s.PGSQL.5432 protocol pgsql then unmonitor
  #if failed unixsocket /var/run/postgresql/.s.PGSQL.5432 protocol pgsql then restart
# Monit v5.26.0: Postgres would log `FATAL:  password authentication failed for user "root"` every cycle (30 seconds)
# if failed port 5432 protocol pgsql for 20 cycles then restart
# Tolerate down state for up to 10 min to allow for manual restarts
# if 2 restarts within 30 cycles then unmonitor
